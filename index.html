<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Jogo da Velha | Evando Junior</title>
	<link rel="stylesheet" href="">
	<style>
		td{
			width:60px;
			height:60px;
			background-color:gray; 
		}

		.jogador1{
			text-align: center;
			color: blue;
		}
		.jogador2{
			text-align: center;
			color: red;

		}
		footer {
			width: 100%;
			height: 40px;
			bottom: 0;
			position: fixed;
		}
		#pontos {
		}
	</style>

	<script type="text/javascript">
		var jogador1 = '<div class="jogador1">X</div>';
		var jogador2 = '<div class="jogador2">O</div>';

		var vez = jogador1;
		function jogada(id){
			document.getElementById(id).innerHTML = vez;
			if(vez == jogador1){
				vez = jogador2;
			}else{
				vez = jogador1;
			}
			checkGame(id);
		}

		function checkGame(id){
			var campos = document.getElementsByTagName("td");
			var x = [];
			var z = "";
			for(i=0; i < campos.length; i++){
				if(campos[i].innerHTML == jogador1){
					z = "X";
				}else if(campos[i].innerHTML == jogador2){
					z = "O";
				}else{
					z = "";
				}
				x[i] = z;
			};
			//Linha 1
			if(x[0] == x[1] && x[0] == x[2] && x[0] != ''){
				alert(x[0]+ " Venceu!");
				contaPonto(x[0]);
				limparTela();
			}
			//Linha 2
			if(x[3] == x[4] && x[3] == x[5] && x[3] != ''){
				alert(x[3]+ " Venceu!");
				contaPonto(x[3]);
				limparTela();
			}
			//Linha 3
			if(x[6] == x[7] && x[6] == x[8] && x[6] != ''){
				alert(x[6]+ " Venceu!");
				contaPonto(x[6]);
				limparTela();
			}

			//Coluna 1
			if(x[0] == x[3] && x[0] == x[6] && x[0] != ''){
				alert(x[0]+ " Venceu!");
				contaPonto(x[0]);
				limparTela();
			}else	
			//Coluna 2
			if(x[1] == x[4] && x[1] == x[7] && x[1] != ''){
				alert(x[1]+ " Venceu!");
				contaPonto(x[1]);
				limparTela();
			}else
			//Coluna 3
			if(x[2] == x[5] && x[2] == x[8] && x[2] != ''){
				alert(x[2]+ " Venceu!");
				contaPonto(x[2]);
				limparTela();
			}else

			//Diagonal 1
			if(x[0] == x[4] && x[0] == x[8] && x[0] != ''){
				alert(x[0]+ " Venceu!");
				contaPonto(x[0]);
				limparTela();
			}else
			//Diagonal 2
			if(x[2] == x[4] && x[2] == x[6] && x[2] != ''){
				alert(x[2]+ " Venceu!");
				contaPonto(x[2]);
				limparTela();
			}else {
				if(x[0] != "" && x[1] != "" && x[2] != "" && x[3] != "" && x[4] != "" && x[5] != "" && x[6] != "" && x[7] != "" && x[8] != ""){
					alert("Deu velha :(");
					limparTela();
				}
			}
		}

		function limparTela(){
			var campos = document.getElementsByTagName("td");
			for(i=0; i < campos.length; i++){
				campos[i].innerHTML = "";
			};
		}

		function contaPonto(vencedor){
			var jg1 = document.getElementById("pontoJg1");
			var jg2 = document.getElementById("pontoJg2");

			var ponto1 = parseFloat(jg1.innerHTML);
			var ponto2 = parseFloat(jg2.innerHTML);
			var point = 0;
			if(vencedor == "X"){
				point = ponto1 + 1;
				jg1.innerHTML = point
			}else if(vencedor == "O"){
				point = ponto2 + 1;
				jg2.innerHTML = point
			}
		}

	</script>
</head>
<body>

	<center>
		<h2 align="center">Jogo da Velha</h2>
		<table class="table table-hover" border="2" cellspacing="5">
			<tbody>
				<tr id='tr1'>
					<td id="1" onclick="jogada(this.id)"></td>
					<td id="2" onclick="jogada(this.id)"></td>
					<td id="3" onclick="jogada(this.id)"></td>
				</tr>
				<tr id='tr2'>
					<td id="4" onclick="jogada(this.id)"></td>
					<td id="5" onclick="jogada(this.id)"></td>
					<td id="6" onclick="jogada(this.id)"></td>
				</tr>
				<tr id='tr3'>
					<td id="7" onclick="jogada(this.id)"></td>
					<td id="8" onclick="jogada(this.id)"></td>
					<td id="9" onclick="jogada(this.id)"></td>
				</tr>
			</tbody>
		</table>
		<h4>Pontuação</h4>
		<div id="pontos">
			Jogador1: <b><span id="pontoJg1">0</span></b>
			<span>&nbsp;&nbsp;&nbsp;&nbsp;</span>
			Jogador2: <b><span id="pontoJg2">0</span></b>
		</div>
		<footer>Developed by <a href="https://github.com/evandojunior">Evando Junior</a></footer>
	</center>
</body>
</html>